BenjaminVenegas_acv <- readRDS("D:/OneDrive/INTA/Actigrafia/testfolder/BenjaminVenegas_acv.rds")
View(BenjaminVenegas_acv)
library(shiny); runApp('OneDrive/App de prueba.R')
list.files()
dir()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
View(check.acvfilter)
View(create.firstfilter)
runApp()
View(create.actogram)
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
awdfolder <- "D:/OneDrive/INTA/Actigrafia/testfolder/test_kansas"
setwd(awdfolder)
archivos <- dir()
archivos <- archivos[grep(".[Aa][Ww][Dd]$", archivos)]
awdfile <- archivos[1]
awdfile <- str_replace(awdfile, ".AWD", "")
rm(archivos)
gdata <- check.acvfilter(awdfile)
gdata <- gdata$semiper
names(gdata)
names(gdata)
create.actogram(gdata)
windows()
create.actogram(gdata)
runApp('D:/OneDrive/INTA/Actigrafia')
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
runApp()
runApp()
awdfolder <- "D:/OneDrive/INTA/Actigrafia/testfolder/test_kansas"
setwd(awdfolder)
archivos <- dir()
archivos <- archivos[grep(".[Aa][Ww][Dd]$", archivos)]
awdfile <- archivos[1]
awdfile <- str_replace(awdfile, ".AWD", "")
rm(archivos)
readRDS(paste0(awdfile, ".edit.RDS"))
gdata <- check.acvfilter(awdfile)
gdata <- gdata$semiper
gdata <- gdata$per01
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
time <- gdata$xscale
corte <- 24 + as.numeric(set$inidia)/3600
nnoc <- sum(time < corte)
ndia <- sum(time >= corte)
if (nnoc == 0 & ndia > 0){
dn <-"d"
} else if (nnoc > 0 & ndia == 0){
dn <-"n"
} else {
dn <- "a"
}
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
nocF
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
dia1 <- gdata$time[which(gdata$xscale == corte)]
dia2 <- max(gdata$time)
diaF <- data.frame(id = NA, ini = dia1, fin = dia2, tipo = 2)
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
dia1 <- gdata$time[which(gdata$xscale == corte)]
dia2 <- max(gdata$time)
diaF <- data.frame(id = NA, ini = dia1, fin = dia2, tipo = 2)
msg <- paste0("Noc: ", noc1, " a ", noc2, "\nDia: ", dia1, " a ", dia2 )
list(msg = msg, action = 1, filtro = bind_rows(nocF, diaF))
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
msg <- paste0("Noc: ", noc1, " a ", noc2)
list(msg = msg, action = 1, filtro = nocF)
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
dia1 <- gdata$time[which(gdata$xscale == corte)]
dia2 <- max(gdata$time)
diaF <- data.frame(id = NA, ini = dia1, fin = dia2, tipo = 2)
msg <- c(paste0("Noc: ", noc1, " a ", noc2),
paste0("Dia: ", dia1, " a ", dia2))
list(msg = msg, action = 1, filtro = bind_rows(nocF, diaF))
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
msg <- paste0("Noc: ", noc1, " a ", noc2)
list(msg = msg, action = 1, filtro = nocF)
if (length(gdata$time[which(gdata$xscale == corte)]) == 0){
dia1 <- min(gdata$time)
} else {
dia1 <- gdata$time[which(gdata$xscale == corte)]
}
dia2 <- max(gdata$time)
diaF <- data.frame(id = NA, ini = dia1, fin = dia2, tipo = 2)
msg <- paste0("Dia:   ", dia1, " a ", dia2)
list(msg = msg, action = 1, filtro = diaF)
runApp('D:/OneDrive/INTA/Actigrafia')
substitute("asdf")
deparse("asdf")
runApp('D:/OneDrive/INTA/Actigrafia')
runApp('D:/OneDrive/INTA/Actigrafia')
runApp('D:/OneDrive/INTA/Actigrafia')
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
runApp()
runApp()
View(create.acv)
runApp()
View(create.firstfilter)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
awdfolder <- "D:/OneDrive/INTA/Actigrafia/testfolder/test_kansas"
setwd(awdfolder)
archivos <- dir()
archivos <- archivos[grep(".[Aa][Ww][Dd]$", archivos)]
awdfile <- archivos[1]
awdfile <- str_replace(awdfile, ".AWD", "")
rm(archivos)
gdata <- check.acvfilter(awdfile)
gdata <- gdata$semiper
gdata <- gdata$per01
time <- gdata$xscale
corte <- 24 + as.numeric(set$inidia)/3600
nnoc <- sum(time < corte)
ndia <- sum(time >= corte)
if (nnoc == 0 & ndia > 0){
dn <-"d"
} else if (nnoc > 0 & ndia == 0){
dn <-"n"
} else {
dn <- "a"
}
noc1 <- min(gdata$time)
noc2 <- gdata$time[which(gdata$xscale == corte)-1]
nocF <- data.frame(id = NA, ini = noc1, fin = noc2, tipo = 2)
dia1 <- gdata$time[which(gdata$xscale == corte)]
dia2 <- max(gdata$time)
diaF <- data.frame(id = NA, ini = dia1, fin = dia2, tipo = 2)
msg <- c(paste0("Noc: ", noc1, " a ", noc2),
paste0("Dia: ", dia1, " a ", dia2))
asdf <- list(msg = msg, action = 1, filtro = bind_rows(nocF, diaF))
asdf
filterResult <- asdf
acvedit <- gdata
paste0(awdfile, _acv.edit.RDS)
paste0(awdfile, "_acv.edit.RDS")
acvedit <- readRDS(paste0(awdfile, "_acv.edit.RDS"))
filt <- bind_rows(filterRDS$filter, filterResult()$filtro)
filterRDS <- readRDS(paste0(awdfile, ".edit.RDS"))
filterRDS
filt <- bind_rows(filterRDS$filter, filterResult()$filtro)
filt <- mutate(filt, id = 1:nrow(filt))
newfiltro <- list(header = filterRDS()$header, filter = filt)
filt <- bind_rows(filterRDS$filter, filterResult$filtro)
filt <- mutate(filt, id = 1:nrow(filt))
newfiltro <- list(header = filterRDS$header, filter = filt)
newfiltro
View(create.firstfilter)
View(create.acvedit)
head(acvedit)
newfiltro
paste0(awdfile, ".edit.RDS")
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp('D:/OneDrive/INTA/Actigrafia')
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp('D:/OneDrive/INTA/Actigrafia')
runApp()
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
awdfolder <- "D:/OneDrive/INTA/Actigrafia/testfolder/test_kansas"
setwd(awdfolder)
archivos <- dir()
archivos <- archivos[grep(".[Aa][Ww][Dd]$", archivos)]
awdfile <- archivos[1]
awdfile <- str_replace(awdfile, ".AWD", "")
rm(archivos)
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
# # Cargar un sujeto valido
awdfolder <- "D:/OneDrive/INTA/Actigrafia/testfolder/test_kansas"
setwd(awdfolder)
archivos <- dir()
archivos <- archivos[grep(".[Aa][Ww][Dd]$", archivos)]
awdfile <- archivos[1]
awdfile <- str_replace(awdfile, ".AWD", "")
rm(archivos)
acvedit <- readRDS(paste0(awdfile, ".edit.RDS"))
names(acvedit)
acvedit <- readRDS(paste0(awdfile, "_acv.edit.RDS"))
acvedit <- check.acvfilter(awdfile)
names(acvedit)
awdfolder <- "D:/OneDrive/INTA/Actigrafia/testfolder/test_kansas"
setwd(awdfolder)
archivos <- dir()
archivos <- archivos[grep(".[Aa][Ww][Dd]$", archivos)]
awdfile <- archivos[1]
awdfile <- str_replace(awdfile, ".AWD", "")
rm(archivos)
# Cargar data para un grafico
gdata <- check.acvfilter(awdfile)
gdata <- gdata$semiper
names(gdata)
lapply(gdata, function(x) min(x$time))
gdata <- gdata$per01
otable("filter", data = gdata)
create.actogram(gdata)
windows()
create.actogram(gdata)
gdata <- check.acvfilter(awdfile)
gdata <- gdata$semiper
create.actogram(gdata)
windows()
create.actogram(gdata)
gdata <- gdata$per01
create.plotActo(gdata)
source('~/.active-rstudio-document', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
source('D:/OneDrive/INTA/Actigrafia/mainScript.R', encoding = 'UTF-8', echo=TRUE)
runApp()
runApp()
